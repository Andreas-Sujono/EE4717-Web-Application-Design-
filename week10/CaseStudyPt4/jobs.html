<!DOCTYPE HTML>
<html lang="en">
<head>
	<title>JavaJam Coffee House</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="style.css"/>
</head>
<body>
    <div id="root">
        <header>
            <img 
                src="./headerImage.gif" 
                class="header-image"
            />
        </header>
        <main>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="menu.php">Menu</a></li>
                    <li><a href="music.html">Music</a></li>
                    <li class="active"><a href="jobs.html">Jobs</a></li>
                    <li><a href="salesReport.php">Daily Sales Report</a></li>
                </ul>
            </nav>
            <div class="right-column">
                <h1 class="title">Jobs at JavaJam</h1>
                <div class="subtitle">Want to work at JavaJam? Fill out the form below to start your application. Required fields are marked with an asterisk*</div>

                <form method="post" action="show_post.php" onsubmit="return handleSubmit()">
                    <div class="input-container">
                        <label for="name">*Name: </label>
                        <input type="text" name="name" id="name" required/>
                    </div>
                    
                    <div class="input-container">
                        <label for="email">*E-mail: </label>
                        <input type="text" name="email" id="email" required/>
                    </div>

                    <div class="input-container">
                        <label for="startDate">*Start date: </label>
                        <input type="date" name="startDate" id="startDate" required/>
                    </div>

                    <div class="input-container">
                        <label for="experience">*Experience: </label>
                        <textarea name="experience" id="experience" required></textarea>
                    </div>
                    <div class="error-message" style="color:red;margin-top:10px;"></div>
                    <input type="submit" value="Apply Now"/>
                </form>
                
            </div>
        </main>

        <footer>
            <div class="footer-content">
                <i><small>
                    Copyright &copy; 2014 Javajam Coffee House <br/>
                    <a href="mailto:andreas@sujono.com">andreas@sujono.com</a>
                </small></i>
                
            </div>
        </footer>
    </div>
</body>
<script>
    let form = document.querySelector('form')
    let name = document.querySelector('form #name')
    let email = document.querySelector('form #email')
    let startDate = document.querySelector('form #startDate')
    let experience = document.querySelector('form #experience')
    let errorMessage = document.querySelector('.error-message')

    function handleSubmit (){
        let isValidated = true
        let message = ''

        //check for name field
        if(!(/^([a-zA-Z]|[a-zA-Z][a-zA-Z ]*[a-zA-Z])$/.test(name.value))){
            isValidated = false
            message = 'Name can only contain alphabet character and character spaces'
        }
        //check for email field
        else if(!(/^[a-zA-Z-.]+@(\w+\.){1,3}\w{2,3}$/.test(email.value))){
            isValidated = false
            message = 'Please input a correct email'
        }
        //check for startDate field
        else if(Date.parse(startDate.value) <= new Date().getTime()){
            isValidated = false
            message = 'Start date cannot from today and the past'
        }
        //check for experience field
        else if(!experience.value){
            isValidated = false
            message = 'Experience cannot be empty'
        }

        if(!isValidated){
            errorMessage.innerHTML = message
            return false
        }

        errorMessage.innerHTML =''
        return true
    }

</script>
</html>
